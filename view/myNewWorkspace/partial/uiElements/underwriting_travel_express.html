<!--

    //*******************************************************************************
    // * Copyright (c) 2011-2014 CSC.
    // * Copyright (C) 2010-2016 CSC - All rights reserved.
    // *
    // * The information contained in this document is the exclusive property of
    // * CSC.  This work is protected under USA copyright law
    // * and the copyright laws of given countries of origin and international
    // * laws, treaties and/or conventions. No part of this document may be
    // * reproduced or transmitted in any form or by any means, electronic or
    // * mechanical including photocopying or by any informational storage or
    // * retrieval system, unless as expressly permitted by CSC.
    //
    // * Design, Develop and Manage by Team Integral Point-of-Sales & Services
    // ******************************************************************************

-->

<div fieldId="underwriting-travel-express:labelUnderwritingReview" class="col-xs-12 col-sm-12 col-md-12 col-lg-12 summary" ng-if="commonUIService.getActiveUserRole() == commonService.CONSTANTS.USER_ROLES.UW">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 centered">
    <div class="form-group form-group-lg has-success">
      <span style="font-size: xx-large;">{{'new.v3.mynewworkspace.motor.underwriting.label.UnderwritingReview' | translate}}</span>
    </div>
  </div>
</div>
<div fieldId="underwriting-travel-express:Product" class="col-xs-12 col-sm-12 col-md-12 col-lg-12 margin-top-10 summary">
  <div class="form-group form-group-lg has-success" style="margin-bottom: 0px">
    <span style="font-weight: bold; font-size: 17px">{{'new.v3.mynewworkspace.travel-express.underwriting.label.Product' | translate}}:</span>
  </div>
  <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
    <div class="form-group form-group-lg has-success">
      <span class="col-xs-6 col-md-6" style="font-weight: bold">{{'new.v3.mynewworkspace.travel-express.underwriting.label.SaleCaseNo' | translate}}:</span>
      <span class="col-xs-6 col-md-6">{{moduleService.findElementInDetail_V3(['CaseName']).$}}</span>
    </div>
    <div class="form-group form-group-lg has-success">
      <span class="col-xs-6 col-md-6" style="font-weight: bold">{{'new.v3.mynewworkspace.travel-express.underwriting.label.ProductName' | translate}}:</span>
      <span class="col-xs-6 col-md-6">{{'v3.mynewworkspace.portlet.label.productName.'+ moduleService.findElementInDetail_V3(['ProductName']).$  | translate}}</span>
    </div>
    <div class="form-group form-group-lg has-success">
      <span class="col-xs-6 col-md-6" style="font-weight: bold">{{'new.v3.mynewworkspace.travel-express.underwriting.label.InceptionDate' | translate}}:</span>
      <span class="col-xs-6 col-md-6">{{moduleService.findElementInDetail_V3(['InceptionDate']).$  | dateFilter }}</span>
    </div>
    <div class="form-group form-group-lg has-success">
      <span class="col-xs-6 col-md-6" style="font-weight: bold">{{'new.v3.mynewworkspace.travel-express.underwriting.label.SumInsured' | translate}}:</span>
      <span class="col-xs-6 col-md-6">N/A</span>
    </div>
  </div>
  <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
    <div class="form-group form-group-lg has-success">
      <span class="col-xs-4 col-md-4" style="font-weight: bold">{{'new.v3.mynewworkspace.travel-express.underwriting.label.AgentName' | translate}}:</span>
      <span class="col-xs-8 col-md-8">{{moduleService.findElementInDetail_V3(['OwnerUid'])}} {{moduleService.findElementInDetail_V3(['AgentName']).$}}</span>
    </div>
    <div class="form-group form-group-lg has-success">
      <span class="col-xs-7 col-md-7" style="font-weight: bold">{{'new.v3.mynewworkspace.travel-express.underwriting.label.EffectiveDate' | translate}}:</span>
      <span class="col-xs-5 col-md-5">{{moduleService.findElementInDetail_V3(['EffectiveDate']).$  | dateFilter }}</span>
    </div>
    <div class="form-group form-group-lg has-success">
      <span class="col-xs-7 col-md-7" style="font-weight: bold">{{'new.v3.mynewworkspace.travel-express.underwriting.label.ExpiryDate' | translate}}:</span>
      <span class="col-xs-5 col-md-5">{{moduleService.findElementInDetail_V3(['ExpiryDate']).$  | dateFilter }}</span>
    </div>
    <div class="form-group form-group-lg has-success">
      <span class="col-xs-7 col-md-7" style="font-weight: bold">{{'new.v3.mynewworkspace.travel-express.underwriting.label.CurrentPayablePremium' | translate}}&nbsp;({{moduleService.findElementInDetail_V3(['BillingCurrency']).Value}}):</span>
      <span class="col-xs-5 col-md-5">{{moduleService.findElementInDetail_V3(['TotalPayablePremiumUSD']).$}}</span>
    </div>
  </div>
</div>
<div fieldId="underwriting-travel-express:TravelInformation" class="col-xs-12 col-sm-12 col-md-12 col-lg-12 margin-top-10 summary">
  <div class="form-group form-group-lg has-success" style="margin-bottom: 0px">
    <span style="font-weight: bold; font-size: 17px">{{'new.v3.mynewworkspace.travel-express.underwriting.label.TravelInformation' | translate}}:</span>
  </div>
  <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6" ng-if="moduleService.findElementInDetail_V3(['Product']) == 'travel-express'">
    <div class="form-group form-group-lg has-success">
      <span class="col-xs-6 col-md-6" style="font-weight: bold">{{'new.v3.mynewworkspace.travel-express.underwriting.label.TypeOfTrip' | translate}}:</span>
      <span class="col-xs-6 col-md-6">{{'v3.travel-express.typeoftravel.enum.' + moduleService.findElementInDetail_V3(['TypeOfTravel']).Value | translate}}</span>
    </div>
  </div>
  <div class="hidden-xs col-sm-6 col-md-6 col-lg-6" ng-if="moduleService.findElementInDetail_V3(['Product']) == 'travel-express'">&nbsp;</div>
  <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6" ng-if="moduleService.findElementInDetail_V3(['Product']) == 'travel-express'">
    <div class="form-group form-group-lg has-success">
      <span class="col-xs-6 col-md-6" style="font-weight: bold">{{'new.v3.mynewworkspace.travel-express.underwriting.label.Plan' | translate}}:</span>
      <span class="col-xs-6 col-md-6">{{'v3.travel-express.plan.enum.' + moduleService.findElementInDetail_V3(['Plan']).Value | translate}}</span>
    </div>
  </div>
  <div class="hidden-xs col-sm-6 col-md-6 col-lg-6" ng-if="moduleService.findElementInDetail_V3(['Product']) == 'travel-express'">&nbsp;</div>
  <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
    <div class="form-group form-group-lg has-success">
      <span class="col-xs-6 col-md-6" style="font-weight: bold">{{'new.v3.mynewworkspace.travel-express.underwriting.label.Region' | translate}}:</span>
      <span class="col-xs-6 col-md-6">{{'v3.travel-express.region.enum.' + moduleService.findElementInDetail_V3(['Region']).Value | translate}}</span>
    </div>
  </div>
  <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6 " ng-if="commonUIService.getActiveUserRole() == 'Underwriter Role'">
    <div class="form-group form-group-lg has-success">
      <span class="col-xs-12 col-md-12" style="font-weight: bold">
        <a ng-click="printApplicationPdf()">
          {{'new.v3.mynewworkspace.travel-express.underwriting.label.ViewApplication' | translate}}
        </a>
      </span>
    </div>
  </div>
</div>
<div fieldId="underwriting-travel-express:UnderwritingFindings" class="col-xs-12 col-sm-12 col-md-12 col-lg-12 margin-top-10 summary">
  <div class="form-group form-group-lg has-success" style="margin-bottom: 0px">
    <span style="font-weight: bold; font-size: 17px">{{'new.v3.mynewworkspace.travel-express.underwriting.label.UnderwritingFindings' | translate}}:</span>
  </div>
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 " ng-repeat="item in moduleService.findElementInDetail_V3(['Details','Detail']) track by $index">
    <div class="form-group form-group-lg has-success" ng-show="moduleService.findElementInElement_V3(item,['Error']).$ != undefined">
      <span class="col-md-12">{{($index+1) +". "+ ('new.v3.mynewworkspace.travel-express.underwriting.label.'+moduleService.findElementInElement_V3(item,['Error']).$ |translate)}}</span>
    </div>
  </div>
</div>
<div fieldId="underwriting-travel-express:UnderwriterDecision" class="col-xs-12 col-sm-12 col-md-12 col-lg-12 margin-top-10 summary">
  <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6 no-left-padding" style="margin-bottom: 0px">
    <div class="form-group form-group-lg has-success">
      <span style="font-weight: bold; font-size: 17px">{{'new.v3.mynewworkspace.travel-express.underwriting.label.UnderwriterDecision' | translate}}:</span>
    </div>
  </div>
  <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6" ng-if="moduleService.findElementInDetail_V3(['DocStatus'])['BusinessStatus'] != 'PENDING' && moduleService.findElementInDetail_V3(['DocStatus'])['BusinessStatus'] != 'DRAFT'  && moduleService.findElementInDetail_V3(['DocStatus'])['BusinessStatus'] != 'NEW'  && moduleService.findElementInDetail_V3(['DocStatus'])['BusinessStatus'] != 'In-progress'">
    <div class="form-group form-group-lg has-success">
      <span class="col-md-3" style="font-weight: bold">{{'new.v3.mynewworkspace.travel-express.underwriting.label.Underwriter' | translate}}:</span>
      <span class="col-md-9">{{moduleService.findElementInDetail_V3(['UnderwriterId']).$ + " " + moduleService.findElementInDetail_V3(['UnderwriterName']).$}}</span>
    </div>
  </div>
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 v3-column-content" style="min-height: 50px !important;">
    <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
	    <div class="form-group form-group-lg has-success">
	      <v3-switch-new 
	        switch-name="UnderwritingDecisionCd" prefix="v3.pnc.underwriter.decision.enum"
	        switch-model="moduleService.findElementInDetail_V3(['UnderwritingDecisionCd']).Value" 
	        switch-disabled="moduleService.freeze 
	          || moduleService.findElementInDetail_V3(['UnderwritingDecisionCd'])['@editable']=='0'
	          || (moduleService.findElementInDetail_V3(['BusinessStatus'])!= 'WIP' && moduleService.findElementInDetail_V3(['BusinessStatus'])!= 'PENDING')
	          || commonUIService.getActiveUserRole() != 'Underwriter Role'" 
	        switch-options="moduleService.findElementInElement_V3(moduleService.lazyChoiceList,['UnderwritingDecisionCd','Option'])">
	      </v3-switch-new>
	    </div>
    </div>
  </div>
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12  margin-top-15  margin-bottom-10" ng-if="moduleService.findElementInDetail_V3(['UnderwritingDecisionCd']).Value == 'COUNTER-OFFER'">
    <div class="col-xs-11 col-sm-6 col-md-3 col-lg-3">
      <div class="form-group form-group-lg has-success">
        <input class="form-control" type="text" maxlength="120" numbers-only 
          ng-disabled = "moduleService.findElementInDetail_V3(['BusinessStatus'])!= 'WIP' && moduleService.findElementInDetail_V3(['BusinessStatus'])!= 'PENDING'"
          ng-model="moduleService.findElementInDetail_V3(['Loading']).$">
        </input>
      </div>
    </div>
    <div class="col-xs-1 col-sm-6 col-md-6 col-lg-6 v3-padding-0">
      <div class="form-group form-group-lg has-success">  
        <label>%</label>
      </div>
    </div>
  </div>
</div>
<div fieldId="underwriting-travel-express:UnderwriterRemark" class="col-xs-12 col-sm-12 col-md-12 col-lg-12 margin-top-10 summary"
  ng-if="moduleService.findElementInDetail_V3(['UnderwritingDecisionCd']).Value != ''
	  && moduleService.findElementInDetail_V3(['UnderwritingDecisionCd']).Value != undefined
	  && moduleService.findElementInDetail_V3(['BusinessStatus']) != 'PENDING'
	  && commonUIService.getActiveUserRole() == 'Underwriter Role'">
  <div class="form-group form-group-lg has-success" style="margin-bottom: 0px">
    <span style="font-weight: bold; font-size: 17px">{{'new.v3.mynewworkspace.travel-express.underwriting.label.UnderwriterRemark' | translate}}:</span>
  </div>
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 padding-top-10 summary">
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
      <div class="form-group form-group-lg has-success">
        <textarea class="form-control" rows="3" 
          ng-model="moduleService.findElementInDetail_V3(['UnderwriterRemark']).$"
          ng-disabled="moduleService.freeze 
            || (moduleService.findElementInDetail_V3(['BusinessStatus'])!= 'WIP' 
              && moduleService.findElementInDetail_V3(['BusinessStatus'])!= 'PENDING')">
        </textarea>
      </div>
    </div>
  </div>
</div>
<div fieldId="underwriting-travel-express:Premium" class="col-xs-12 col-sm-12 col-md-12 col-lg-12 margin-top-10 summary"
  ng-if="moduleService.findElementInDetail_V3(['UnderwritingDecisionCd']).Value == 'COUNTER-OFFER' && moduleService.findElementInDetail_V3(['BusinessStatus']) != 'PENDING'">
  <div class="form-group form-group-lg has-success" style="margin-bottom: 0px">
    <span style="font-weight: bold; font-size: 17px">{{'new.v3.mynewworkspace.travel-express.underwriting.label.Premium' | translate}}&nbsp;({{moduleService.findElementInDetail_V3(['BillingCurrency']).Value}}):&nbsp;</span>
  </div>
  <div class="col-xs-12 col-sm-5 col-md-5 col-lg-5">
    <div class="form-group form-group-lg has-success">
      <span class="col-xs-6 col-md-6" style="font-weight: bold">{{'new.v3.mynewworkspace.travel-express.underwriting.label.GrossPremium' | translate}}:</span>
      <span class="col-xs-6 col-md-6 v3-currency-alignment">{{moduleService.findElementInDetail_V3(['GrossPremium']).$ }}</span>
    </div>
  </div>
  <div class="hidden-xs col-sm-7 col-md-7 col-lg-7">&nbsp;</div>
  <div class="col-xs-12 col-sm-5 col-md-5 col-lg-5">
    <div class="form-group form-group-lg has-success">
      <span class="col-xs-6 col-md-6" style="font-weight: bold">{{'new.v3.mynewworkspace.travel-express.underwriting.label.StampDuty' | translate}}:</span>
      <span class="col-xs-6 col-md-6 v3-currency-alignment"
        ng-if="moduleService.findElementInDetail_V3(['GrossPremium']).$ != undefined
          && moduleService.findElementInDetail_V3(['GrossPremium']).$ != ''">{{moduleService.findElementInDetail_V3(['StampDuty']).$ }}</span>
    </div>
  </div>
  <div class="hidden-xs col-sm-7 col-md-7 col-lg-7">&nbsp;</div>
  <div class="col-xs-12 col-sm-5 col-md-5 col-lg-5">
    <div class="form-group form-group-lg has-success">
      <span class="col-xs-6 col-md-6" style="font-weight: bold">{{'new.v3.mynewworkspace.travel-express.underwriting.label.PolicyCost' | translate}}:</span>
      <span class="col-xs-6 col-md-6 v3-currency-alignment"
        ng-if="moduleService.findElementInDetail_V3(['GrossPremium']).$ != undefined
          && moduleService.findElementInDetail_V3(['GrossPremium']).$ != ''">{{moduleService.findElementInDetail_V3(['PolicyCost']).$ }}</span>
    </div>
  </div>
  <div class="hidden-xs col-sm-7 col-md-7 col-lg-7">&nbsp;</div>
  <div class="col-xs-12 col-sm-5 col-md-5 col-lg-5">
    <div class="form-group form-group-lg has-success">
      <span class="col-xs-6 col-md-6" style="font-weight: bold">{{'new.v3.mynewworkspace.travel-express.underwriting.label.TotalPayablePremium' | translate}}:</span>
      <span class="col-xs-6 col-md-6 v3-currency-alignment">{{moduleService.findElementInDetail_V3(['RevisedTotalPayablePremium']).$ }}</span>
    </div>
  </div>
</div>
<div fieldId="underwriting-travel-express:CustomerDecision" class="col-xs-12 col-sm-12 col-md-12 col-lg-12 margin-top-10 summary">
  <div ng-if="moduleService.findElementInDetail_V3(['UnderwritingDecisionCd']).Value == 'COUNTER-OFFER'
	    && moduleService.findElementInDetail_V3(['BusinessStatus']) != 'PENDING'
	    && commonUIService.getActiveUserRole() != 'Underwriter Role'">
    <div class="form-group form-group-lg has-success margin-bottom-10" >
      <span style="font-weight: bold; font-size: 17px">{{'new.v3.mynewworkspace.travel-express.underwriting.label.CustomerDecision' | translate}}:</span>
    </div>
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 v3-column-content" style="min-height: 50px !important;" >
      <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3">
        <div class="form-group form-group-lg has-success">
          <v3-switch-new switch-size="" switch-name="CustomerDecision" prefix="v3.pnc.customer.decision.enum"
            switch-model="moduleService.findElementInDetail_V3(['CustomerDecision']).Value" 
            switch-disabled="moduleService.freeze
              || moduleService.findElementInDetail_V3(['DocStatus'])['BusinessStatus'] == 'ACCEPTED'
              || moduleService.findElementInDetail_V3(['DocStatus'])['BusinessStatus'] == 'REJECTED' 
              || moduleService.findElementInDetail_V3(['DocStatus'])['BusinessStatus'] == 'OFFER REJECTED'" 
            switch-options="moduleService.findElementInElement_V3(moduleService.lazyChoiceList,['CustomerDecision','Option'])">
          </v3-switch-new>
        </div>
      </div>
    </div>
  </div>
</div>
<div fieldId="underwriting-travel-express:AgentRemark" class="col-xs-12 col-sm-12 col-md-12 col-lg-12 margin-top-10 summary">
  <div ng-if="moduleService.findElementInDetail_V3(['UnderwritingDecisionCd']).Value == 'COUNTER-OFFER'
    && moduleService.findElementInDetail_V3(['BusinessStatus']) != 'PENDING'
    && commonUIService.getActiveUserRole() != 'Underwriter Role'">
    <div class="form-group form-group-lg has-success margin-bottom-10" >
      <span style="font-weight: bold; font-size: 17px">{{'new.v3.mynewworkspace.travel-express.underwriting.label.AgentRemark' | translate}}:</span>
    </div>
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
        <div class="form-group form-group-lg has-success">
          <textarea class="form-control" rows="3"
            ng-model="moduleService.findElementInDetail_V3(['AgentRemark']).$"
            ng-disabled="moduleService.freeze
              || moduleService.findElementInDetail_V3(['DocStatus'])['BusinessStatus'] == 'ACCEPTED'
              || moduleService.findElementInDetail_V3(['DocStatus'])['BusinessStatus'] == 'REJECTED' 
              || moduleService.findElementInDetail_V3(['DocStatus'])['BusinessStatus'] == 'OFFER REJECTED'">
	        </textarea>
        </div>
      </div>
    </div>
  </div>
</div>